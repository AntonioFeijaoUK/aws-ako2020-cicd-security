+++
title = "Vulnerability Scanning"
date = 2019-07-08T13:08:10+01:00
weight = 3
chapter = true
pre = "<b>2. </b>"
draft = false
+++

Typically, BigCo's usual strategy regarding penetration testing is to align it closely to release schedules. Given the mandate from the CEO, though, this doesn't quite work:

If you wish to align to release schedules, you'll have to actually define a schedule, which then allows you to request time from your third-party penetration testers. Unfortunately, this lends itself to "big bang" releases, where lots of features are rolled in to one. If there's a failure, you'll need to revert the entire release! You can't be doing this given your mandate, but regularly scheduling a penetration test is an expensive process that your team doesn't have budget for each time it wishes to do a release (often, multiple times per week).

You speak to the Office of the CISO at BigCo about using a vulnerability scanner, instead. In this model, you propose, rather than using third-party external pentetration testers for every release, you instead use a software vulnerability scanner any time anyone makes a change. Optionally, the business can then decide to keep its regular cadence of penetration tests separately. BigCo's Office of the CISO agrees that this makes sense, and lets you start including [OWASP](https://owasp.org) ZAP, the Zed Attack Proxy, in your CI pipeline.

If the tests go well, it'll be mandated across other teams.

### Installing ZAP in Jenkins

Jenkins is extensible through plug-ins. A number of plug-ins exist for installing and managing ZAP through Jenkins. We're going to use the `ZAP Pipeline` plugin, which can be installed via Jenkins as follows:

1. On the left, click Manage Jenkins
1. Click Manage Plugins
1. Click the Available tab
1. Using the Filter box, search for `ZAP`

At this stage, you'll likely notice that one of the plugins has a security vulnerability reported against it. This serves as a good reminder that we should keep on top of our dependencies! We'll steer well clear of the plugin storing credentials in plain text.

1. Tick the checkbox next to `ZAP Pipeline`
1. Choose `Download Now and Install after Restart`
1. Tick the checkbox to restart Jenkins when installation is complete and no jobs are running
